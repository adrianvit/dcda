<!DOCTYPE html>
<html>
<head>
<title>Package Management</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link
	href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"
	rel="stylesheet">
<script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
<script
	src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
</head>
<body>
<div class="well">
	<table class="table" >
		<thead>
			<tr>
				<th>Product ID</th>
				<th>Description</th>
				<th>Price</th>
				<th>Quantity</th>
			</tr>
		</thead>
		<tbody data-bind="foreach: products">
		<tr>
			<td data-bind="text: product_id"></td>
			<td data-bind="text: description"></td>
			<td data-bind="text: price"></td>
			<td data-bind="text: quantity"></td>
		</tr>
		</tbody>
	</table>
</div>

	<script type="text/javascript">

			function Product(product_id, description, price, quantity) {
				var self = this;
				self.product_id = product_id;
				self.description = description;
				self.price = price;
				self.quantity = quantity;
			}
			
			function AppViewModel() {
				var self = this;
				
			    self.products = ko.observableArray([]);
			    
			    $.getJSON("http://localhost:18080/local/products/", function(allData) {
			        var mappedProducts = $.map(allData, function(item) { return new Product(item.productid, item.description, item.price, item.quantity) });
			        self.products(mappedProducts);
			    }); 
				
			}
			ko.applyBindings(new AppViewModel());
	</script>
</body>
</html>